import{s as Y,e as y,t as J,a as S,c as C,k as L,l as X,d as v,b as V,f as k,j,i as d,m as te,n as M,o as re,u as pe,S as G,T as oe,Q as se,U as De,V as de,W as Ne,g as me,y as Se,r as Ve,v as Te}from"../chunks/scheduler.Ds7F8-We.js";import{S as x,i as ee,b as F,d as Q,m as R,a as z,g as ce,c as ae,t as U,e as Z}from"../chunks/index.C2t33DAs.js";import{c as le,e as O}from"../chunks/number-format.DT7yE_pp.js";import{t as K,p as ge}from"../chunks/words.CvDssxqn.js";import{w as Ue}from"../chunks/index.C5UCwSHb.js";const ie=()=>{const n=ge[Math.floor(Math.random()*ge.length)],t=K.indexOf(n);return{targetIndex:t,lowerIndex:0,upperIndex:K.length,targetWord:n,upperWord:"aaaaa",lowerWord:"zzzzz",attempt:"",currentGuess:1,maxGuesses:100,distanceUpper:t,distanceLower:K.length-t,win:!1,lose:!1,incorrect:!1,correct:"",visible:!1,ended:!1,guesses:[]}},We=()=>{const{subscribe:n,set:t,update:s}=Ue(ie());return{subscribe:n,reset:()=>t(ie()),submit(){s(e=>{if(e.win)return{...ie(),guesses:e.guesses};if(e.lose)return ie();if(e.attempt.length===5){if(e.attempt===e.targetWord)return e.guesses.push("correct"),e.win=!0,e.ended=!0,e;const r=e.attempt.localeCompare(e.upperWord),o=e.attempt.localeCompare(e.lowerWord);if(r<=0||o>=0||!K.includes(e.attempt))return e.incorrect=!0,setTimeout(()=>{s(c=>(c.incorrect=!1,c))},300),e;const l=e.attempt.localeCompare(e.targetWord);if(l!==0)return e.currentGuess>=e.maxGuesses?(e.lose=!0,e.ended=!0,e):(e.visible=!0,e.currentGuess=e.currentGuess+1,l>0&&(e.lowerWord=e.attempt,e.lowerIndex=K.indexOf(e.attempt),e.distanceLower=e.lowerIndex-e.targetIndex,e.correct="down",e.guesses.push("past"),setTimeout(()=>{s(c=>(c.correct="",c.attempt="",c))},300)),l<0&&(e.upperWord=e.attempt,e.upperIndex=K.indexOf(e.attempt),e.distanceUpper=e.targetIndex-e.upperIndex,e.correct="up",e.guesses.push("past"),setTimeout(()=>{s(c=>(c.correct="",c.attempt="",c))},300)),e)}return e})},addLetter(e){s(r=>(r.attempt.length<5&&e.length===1&&e.match(/[a-zA-Z]/)&&(r.attempt+=e.toLowerCase()),r))},removeLetter(){s(e=>(e.attempt=e.attempt.slice(0,-1),e))}}},H=We();function _e(n){let t;return{c(){t=y("div"),this.h()},l(s){t=C(s,"DIV",{class:!0,style:!0}),L(t).forEach(v),this.h()},h(){k(t,"class","marker svelte-vnb8sq"),pe(t,"top",n[3]+"%")},m(s,e){j(s,t,e)},p(s,e){e&8&&pe(t,"top",s[3]+"%")},d(s){s&&v(t)}}}function Pe(n){let t,s,e=(n[0].visible?le(n[2]):"?")+"",r,o,l,c,p,b,m,f=(n[0].visible?le(n[1]):"?")+"",g,w=n[0].visible&&_e(n);return{c(){t=y("div"),s=y("span"),r=J(e),o=S(),l=y("div"),c=y("div"),p=S(),w&&w.c(),b=S(),m=y("span"),g=J(f),this.h()},l($){t=C($,"DIV",{class:!0});var E=L(t);s=C(E,"SPAN",{class:!0});var D=L(s);r=X(D,e),D.forEach(v),o=V(E),l=C(E,"DIV",{class:!0});var T=L(l);c=C(T,"DIV",{class:!0}),L(c).forEach(v),p=V(T),w&&w.l(T),T.forEach(v),b=V(E),m=C(E,"SPAN",{class:!0});var N=L(m);g=X(N,f),N.forEach(v),E.forEach(v),this.h()},h(){k(s,"class","svelte-vnb8sq"),k(c,"class","line"),k(l,"class","connector svelte-vnb8sq"),k(m,"class","svelte-vnb8sq"),k(t,"class","meter svelte-vnb8sq")},m($,E){j($,t,E),d(t,s),d(s,r),d(t,o),d(t,l),d(l,c),d(l,p),w&&w.m(l,null),d(t,b),d(t,m),d(m,g)},p($,[E]){E&5&&e!==(e=($[0].visible?le($[2]):"?")+"")&&te(r,e),$[0].visible?w?w.p($,E):(w=_e($),w.c(),w.m(l,null)):w&&(w.d(1),w=null),E&3&&f!==(f=($[0].visible?le($[1]):"?")+"")&&te(g,f)},i:M,o:M,d($){$&&v(t),w&&w.d()}}}function qe(n,t,s){let e,r,o,l;return re(n,H,c=>s(0,l=c)),n.$$.update=()=>{n.$$.dirty&1&&s(3,e=l.distanceUpper/(l.distanceUpper+l.distanceLower)*100),n.$$.dirty&1&&s(2,r=l.distanceUpper/K.length*100),n.$$.dirty&1&&s(1,o=l.distanceLower/K.length*100)},[l,o,r,e]}class Be extends x{constructor(t){super(),ee(this,t,qe,Pe,Y,{})}}function Oe(n){let t,s;return{c(){t=y("span"),s=J(n[0]),this.h()},l(e){t=C(e,"SPAN",{class:!0});var r=L(t);s=X(r,n[0]),r.forEach(v),this.h()},h(){k(t,"class","svelte-107gnvl"),G(t,"win",n[1].win),G(t,"lose",n[1].lose),G(t,"incorrect",n[1].incorrect),G(t,"up",n[1].correct==="up"),G(t,"down",n[1].correct==="down"),G(t,"empty",n[0]==="•"||n[0]===" "),G(t,"impossible",n[2])},m(e,r){j(e,t,r),d(t,s)},p(e,[r]){r&1&&te(s,e[0]),r&2&&G(t,"win",e[1].win),r&2&&G(t,"lose",e[1].lose),r&2&&G(t,"incorrect",e[1].incorrect),r&2&&G(t,"up",e[1].correct==="up"),r&2&&G(t,"down",e[1].correct==="down"),r&1&&G(t,"empty",e[0]==="•"||e[0]===" "),r&4&&G(t,"impossible",e[2])},i:M,o:M,d(e){e&&v(t)}}}function Me(n,t,s){let e,r;re(n,H,p=>s(1,r=p));let{letter:o}=t,{index:l}=t;const c=(p,b,m,f,g)=>m.substring(0,g)===f.substring(0,g)?m[g]<=p&&f[g]>=p:m.substring(0,g)===b.substring(0,g)?m[g]<=p:f.substring(0,g)===b.substring(0,g)?f[g]>=p:!0;return n.$$set=p=>{"letter"in p&&s(0,o=p.letter),"index"in p&&s(3,l=p.index)},n.$$.update=()=>{n.$$.dirty&11&&s(2,e=o!=="•"&&o!==" "&&!c(o,r.attempt,r.upperWord,r.lowerWord,l))},[o,r,e,l]}class je extends x{constructor(t){super(),ee(this,t,Me,Oe,Y,{letter:0,index:3})}}function He(n){let t,s;return{c(){t=y("span"),s=J(n[0]),this.h()},l(e){t=C(e,"SPAN",{class:!0});var r=L(t);s=X(r,n[0]),r.forEach(v),this.h()},h(){k(t,"class","svelte-ynm1tz")},m(e,r){j(e,t,r),d(t,s)},p(e,[r]){r&1&&te(s,e[0])},i:M,o:M,d(e){e&&v(t)}}}function Ke(n,t,s){let{letter:e}=t;return n.$$set=r=>{"letter"in r&&s(0,e=r.letter)},[e]}class Le extends x{constructor(t){super(),ee(this,t,Ke,He,Y,{letter:0})}}function ve(n,t,s){const e=n.slice();return e[3]=t[s],e}function be(n,t,s){const e=n.slice();return e[3]=t[s],e[7]=s,e}function $e(n,t,s){const e=n.slice();return e[3]=t[s],e}function ke(n){let t,s;return t=new Le({props:{letter:n[3]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const o={};r&1&&(o.letter=e[3]),t.$set(o)},i(e){s||(z(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function we(n){let t,s;return t=new je({props:{letter:n[3],index:n[7]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const o={};r&2&&(o.letter=e[3]),t.$set(o)},i(e){s||(z(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function Ee(n){let t,s;return t=new Le({props:{letter:n[3]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const o={};r&1&&(o.letter=e[3]),t.$set(o)},i(e){s||(z(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function Fe(n){let t,s,e,r,o,l,c,p,b,m,f,g,w=n[0].guesses.filter(Ie).length+"",$,E,D,T;s=new Be({});let N=O(n[0].upperWord),_=[];for(let a=0;a<N.length;a+=1)_[a]=ke($e(n,N,a));const ne=a=>U(_[a],1,1,()=>{_[a]=null});let q=O(n[1]),h=[];for(let a=0;a<q.length;a+=1)h[a]=we(be(n,q,a));const A=a=>U(h[a],1,1,()=>{h[a]=null});let B=O(n[0].lowerWord),I=[];for(let a=0;a<B.length;a+=1)I[a]=Ee(ve(n,B,a));const ze=a=>U(I[a],1,1,()=>{I[a]=null});return{c(){t=y("section"),F(s.$$.fragment),e=S(),r=y("div"),o=y("div");for(let a=0;a<_.length;a+=1)_[a].c();l=S(),c=y("div");for(let a=0;a<h.length;a+=1)h[a].c();b=S(),m=y("div");for(let a=0;a<I.length;a+=1)I[a].c();f=S(),g=y("div"),$=J(w),this.h()},l(a){t=C(a,"SECTION",{class:!0});var u=L(t);Q(s.$$.fragment,u),e=V(u),r=C(u,"DIV",{class:!0});var i=L(r);o=C(i,"DIV",{class:!0});var W=L(o);for(let P=0;P<_.length;P+=1)_[P].l(W);W.forEach(v),l=V(i),c=C(i,"DIV",{class:!0});var ue=L(c);for(let P=0;P<h.length;P+=1)h[P].l(ue);ue.forEach(v),b=V(i),m=C(i,"DIV",{class:!0});var fe=L(m);for(let P=0;P<I.length;P+=1)I[P].l(fe);fe.forEach(v),i.forEach(v),f=V(u),g=C(u,"DIV",{class:!0});var he=L(g);$=X(he,w),he.forEach(v),u.forEach(v),this.h()},h(){k(o,"class","upper svelte-1nti8h"),k(c,"class",p="attempt "+n[0].correct+" svelte-1nti8h"),G(c,"incorrect",n[0].incorrect),k(m,"class","lower svelte-1nti8h"),k(r,"class","board svelte-1nti8h"),G(r,"win",n[0].win),G(r,"lose",n[0].lose),k(g,"class","score svelte-1nti8h"),k(t,"class","game svelte-1nti8h")},m(a,u){j(a,t,u),R(s,t,null),d(t,e),d(t,r),d(r,o);for(let i=0;i<_.length;i+=1)_[i]&&_[i].m(o,null);d(r,l),d(r,c);for(let i=0;i<h.length;i+=1)h[i]&&h[i].m(c,null);d(r,b),d(r,m);for(let i=0;i<I.length;i+=1)I[i]&&I[i].m(m,null);d(t,f),d(t,g),d(g,$),E=!0,D||(T=oe(t,"click",n[2]),D=!0)},p(a,[u]){if(u&1){N=O(a[0].upperWord);let i;for(i=0;i<N.length;i+=1){const W=$e(a,N,i);_[i]?(_[i].p(W,u),z(_[i],1)):(_[i]=ke(W),_[i].c(),z(_[i],1),_[i].m(o,null))}for(ce(),i=N.length;i<_.length;i+=1)ne(i);ae()}if(u&2){q=O(a[1]);let i;for(i=0;i<q.length;i+=1){const W=be(a,q,i);h[i]?(h[i].p(W,u),z(h[i],1)):(h[i]=we(W),h[i].c(),z(h[i],1),h[i].m(c,null))}for(ce(),i=q.length;i<h.length;i+=1)A(i);ae()}if((!E||u&1&&p!==(p="attempt "+a[0].correct+" svelte-1nti8h"))&&k(c,"class",p),(!E||u&1)&&G(c,"incorrect",a[0].incorrect),u&1){B=O(a[0].lowerWord);let i;for(i=0;i<B.length;i+=1){const W=ve(a,B,i);I[i]?(I[i].p(W,u),z(I[i],1)):(I[i]=Ee(W),I[i].c(),z(I[i],1),I[i].m(m,null))}for(ce(),i=B.length;i<I.length;i+=1)ze(i);ae()}(!E||u&1)&&G(r,"win",a[0].win),(!E||u&1)&&G(r,"lose",a[0].lose),(!E||u&1)&&w!==(w=a[0].guesses.filter(Ie).length+"")&&te($,w)},i(a){if(!E){z(s.$$.fragment,a);for(let u=0;u<N.length;u+=1)z(_[u]);for(let u=0;u<q.length;u+=1)z(h[u]);for(let u=0;u<B.length;u+=1)z(I[u]);E=!0}},o(a){U(s.$$.fragment,a),_=_.filter(Boolean);for(let u=0;u<_.length;u+=1)U(_[u]);h=h.filter(Boolean);for(let u=0;u<h.length;u+=1)U(h[u]);I=I.filter(Boolean);for(let u=0;u<I.length;u+=1)U(I[u]);E=!1},d(a){a&&v(t),Z(s),se(_,a),se(h,a),se(I,a),D=!1,T()}}}const Ie=n=>n==="correct";function Qe(n,t,s){let e,r;re(n,H,l=>s(0,r=l));function o(l){De.call(this,n,l)}return n.$$.update=()=>{n.$$.dirty&1&&s(1,e=(r.attempt+"•").padEnd(5).substring(0,5))},[r,e,o]}class Re extends x{constructor(t){super(),ee(this,t,Qe,Fe,Y,{})}}function ye(n,t,s){const e=n.slice();return e[3]=t[s],e}function Ce(n){let t,s;return{c(){t=y("span"),this.h()},l(e){t=C(e,"SPAN",{class:!0}),L(t).forEach(v),this.h()},h(){k(t,"class",s=de(n[3])+" svelte-94agzl")},m(e,r){j(e,t,r)},p(e,r){r&1&&s!==(s=de(e[3])+" svelte-94agzl")&&k(t,"class",s)},d(e){e&&v(t)}}}function Ze(n){let t,s=O(n[0]),e=[];for(let r=0;r<s.length;r+=1)e[r]=Ce(ye(n,s,r));return{c(){t=y("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"DIV",{class:!0});var o=L(t);for(let l=0;l<e.length;l+=1)e[l].l(o);o.forEach(v),this.h()},h(){k(t,"class","svelte-94agzl")},m(r,o){j(r,t,o);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(r,[o]){if(o&1){s=O(r[0]);let l;for(l=0;l<s.length;l+=1){const c=ye(r,s,l);e[l]?e[l].p(c,o):(e[l]=Ce(c),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},i:M,o:M,d(r){r&&v(t),se(e,r)}}}function Je(n,t,s){let e;re(n,H,l=>s(1,e=l));const r=l=>l<e.guesses.length?e.guesses[l]:l+1===e.currentGuess?"current":"future";let o=Array.from({length:e.maxGuesses},(l,c)=>r(c));return n.$$.update=()=>{n.$$.dirty&2&&s(0,o=Array.from({length:e.maxGuesses},(l,c)=>r(c)))},[o,e]}class Xe extends x{constructor(t){super(),ee(this,t,Je,Ze,Y,{})}}function Ae(n,t,s){const e=n.slice();return e[4]=t[s],e}function Ge(n){let t,s,e,r,o,l;function c(){return n[3](n[4])}return{c(){t=y("button"),s=J(n[4]),e=S(),this.h()},l(p){t=C(p,"BUTTON",{class:!0});var b=L(t);s=X(b,n[4]),e=V(b),b.forEach(v),this.h()},h(){t.disabled=r=!n[2](n[4],n[0].attempt,n[0].upperWord,n[0].lowerWord),k(t,"class","svelte-1240ro5")},m(p,b){j(p,t,b),d(t,s),d(t,e),o||(l=oe(t,"click",c),o=!0)},p(p,b){n=p,b&1&&r!==(r=!n[2](n[4],n[0].attempt,n[0].upperWord,n[0].lowerWord))&&(t.disabled=r)},d(p){p&&v(t),o=!1,l()}}}function Ye(n){let t,s=O("abcdefghijklmnopqrstuvwxyz"),e=[];for(let r=0;r<s.length;r+=1)e[r]=Ge(Ae(n,s,r));return{c(){t=y("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"DIV",{class:!0});var o=L(t);for(let l=0;l<e.length;l+=1)e[l].l(o);o.forEach(v),this.h()},h(){k(t,"class","svelte-1240ro5")},m(r,o){j(r,t,o);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(r,[o]){if(o&7){s=O("abcdefghijklmnopqrstuvwxyz");let l;for(l=0;l<s.length;l+=1){const c=Ae(r,s,l);e[l]?e[l].p(c,o):(e[l]=Ge(c),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},i:M,o:M,d(r){r&&v(t),se(e,r)}}}function xe(n,t,s){let e;re(n,H,c=>s(0,e=c));const r=Ne();return[e,r,(c,p,b,m)=>{const f=p.length;return b.substring(0,f)===m.substring(0,f)?b[f]<=c&&m[f]>=c:b.substring(0,f)===p.substring(0,f)?b[f]<=c:m.substring(0,f)===p.substring(0,f)?m[f]>=c:!0},c=>r("keypress",{key:c})]}class et extends x{constructor(t){super(),ee(this,t,xe,Ye,Y,{})}}function tt(n){let t,s,e,r,o="Betweenle Rush",l,c,p="Guess as many words as you can with 100 guesses",b,m,f,g,w,$,E,D,T=n[1].ended?"Next":"Guess",N,_,ne,q;return m=new Xe({}),g=new Re({}),g.$on("click",n[5]),$=new et({}),$.$on("keypress",n[6]),{c(){t=y("section"),s=y("input"),e=S(),r=y("h1"),r.textContent=o,l=S(),c=y("p"),c.textContent=p,b=S(),F(m.$$.fragment),f=S(),F(g.$$.fragment),w=S(),F($.$$.fragment),E=S(),D=y("button"),N=J(T),this.h()},l(h){t=C(h,"SECTION",{class:!0});var A=L(t);s=C(A,"INPUT",{type:!0,class:!0}),e=V(A),r=C(A,"H1",{class:!0,"data-svelte-h":!0}),me(r)!=="svelte-4t5vd3"&&(r.textContent=o),l=V(A),c=C(A,"P",{class:!0,"data-svelte-h":!0}),me(c)!=="svelte-1igd5be"&&(c.textContent=p),b=V(A),Q(m.$$.fragment,A),f=V(A),Q(g.$$.fragment,A),w=V(A),Q($.$$.fragment,A),E=V(A),D=C(A,"BUTTON",{id:!0,class:!0});var B=L(D);N=X(B,T),B.forEach(v),A.forEach(v),this.h()},h(){k(s,"type","text"),k(s,"class","hidden svelte-6t3ni9"),k(r,"class","svelte-6t3ni9"),k(c,"class","svelte-6t3ni9"),k(D,"id","main-button"),k(D,"class","svelte-6t3ni9"),k(t,"class","page svelte-6t3ni9")},m(h,A){j(h,t,A),d(t,s),n[4](s),d(t,e),d(t,r),d(t,l),d(t,c),d(t,b),R(m,t,null),d(t,f),R(g,t,null),d(t,w),R($,t,null),d(t,E),d(t,D),d(D,N),_=!0,ne||(q=[oe(s,"keydown",n[3]),oe(D,"click",n[7])],ne=!0)},p(h,[A]){(!_||A&2)&&T!==(T=h[1].ended?"Next":"Guess")&&te(N,T)},i(h){_||(z(m.$$.fragment,h),z(g.$$.fragment,h),z($.$$.fragment,h),_=!0)},o(h){U(m.$$.fragment,h),U(g.$$.fragment,h),U($.$$.fragment,h),_=!1},d(h){h&&v(t),n[4](null),Z(m),Z(g),Z($),ne=!1,Se(q)}}}function rt(n,t,s){let e;re(n,H,f=>s(1,e=f));let r;const o=f=>{r.focus(),l(new KeyboardEvent("keypress",{key:f}))},l=f=>{if(f.key==="Enter"){H.submit();return}if(f.key==="Backspace"&&!e.ended){H.removeLetter();return}H.addLetter(f.key)};Ve(()=>{r.focus()});function c(f){Te[f?"unshift":"push"](()=>{r=f,s(0,r)})}return[r,e,o,l,c,()=>r.focus(),f=>o(f.detail.key),()=>o("Enter")]}class ct extends x{constructor(t){super(),ee(this,t,rt,tt,Y,{})}}export{ct as component};
