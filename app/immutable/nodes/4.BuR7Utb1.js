import{s as Y,e as y,t as J,a as T,c as C,k as L,l as X,d as v,b as V,f as k,j as M,i as p,m as te,n as O,o as re,u as he,S as A,T as oe,Q as ne,U as Le,V as pe,W as ze,g as de,y as De,r as Ne,v as Se}from"../chunks/scheduler.Ds7F8-We.js";import{S as x,i as ee,b as F,d as Q,m as R,a as N,g as ie,c as ae,t as U,e as Z}from"../chunks/index.C2t33DAs.js";import{c as se,e as B}from"../chunks/number-format.DT7yE_pp.js";import{t as H,p as me}from"../chunks/words.CvDssxqn.js";import{w as Te}from"../chunks/index.C5UCwSHb.js";const le=()=>{const n=me[Math.floor(Math.random()*me.length)],t=H.indexOf(n);return{targetIndex:t,lowerIndex:0,upperIndex:H.length,targetWord:n,upperWord:"aaaaa",lowerWord:"zzzzz",attempt:"",currentGuess:1,maxGuesses:100,distanceUpper:t,distanceLower:H.length-t,win:!1,lose:!1,incorrect:!1,correct:"",visible:!1,ended:!1,guesses:[]}},Ve=()=>{const{subscribe:n,set:t,update:s}=Te(le());return{subscribe:n,reset:()=>t(le()),submit(){s(e=>{if(e.win)return{...le(),guesses:e.guesses};if(e.lose)return le();if(e.attempt.length===5){if(e.attempt===e.targetWord)return e.guesses.push("correct"),e.win=!0,e.ended=!0,e;const r=e.attempt.localeCompare(e.upperWord),i=e.attempt.localeCompare(e.lowerWord);if(r<=0||i>=0||!H.includes(e.attempt))return e.incorrect=!0,setTimeout(()=>{s(a=>(a.incorrect=!1,a))},300),e;const l=e.attempt.localeCompare(e.targetWord);if(l!==0)return e.currentGuess>=e.maxGuesses?(e.lose=!0,e.ended=!0,e):(e.visible=!0,e.currentGuess=e.currentGuess+1,l>0&&(e.lowerWord=e.attempt,e.lowerIndex=H.indexOf(e.attempt),e.distanceLower=e.lowerIndex-e.targetIndex,e.correct="down",e.guesses.push("past"),setTimeout(()=>{s(a=>(a.correct="",a.attempt="",a))},300)),l<0&&(e.upperWord=e.attempt,e.upperIndex=H.indexOf(e.attempt),e.distanceUpper=e.targetIndex-e.upperIndex,e.correct="up",e.guesses.push("past"),setTimeout(()=>{s(a=>(a.correct="",a.attempt="",a))},300)),e)}return e})},addLetter(e){s(r=>(r.attempt.length<5&&e.length===1&&e.match(/[a-zA-Z]/)&&(r.attempt+=e.toLowerCase()),r))},removeLetter(){s(e=>(e.attempt=e.attempt.slice(0,-1),e))}}},j=Ve();function ge(n){let t;return{c(){t=y("div"),this.h()},l(s){t=C(s,"DIV",{class:!0,style:!0}),L(t).forEach(v),this.h()},h(){k(t,"class","marker svelte-vnb8sq"),he(t,"top",n[3]+"%")},m(s,e){M(s,t,e)},p(s,e){e&8&&he(t,"top",s[3]+"%")},d(s){s&&v(t)}}}function Ue(n){let t,s,e=(n[0].visible?se(n[2]):"?")+"",r,i,l,a,f,b,d,h=(n[0].visible?se(n[1]):"?")+"",m,I=n[0].visible&&ge(n);return{c(){t=y("div"),s=y("span"),r=J(e),i=T(),l=y("div"),a=y("div"),f=T(),I&&I.c(),b=T(),d=y("span"),m=J(h),this.h()},l(g){t=C(g,"DIV",{class:!0});var G=L(t);s=C(G,"SPAN",{class:!0});var S=L(s);r=X(S,e),S.forEach(v),i=V(G),l=C(G,"DIV",{class:!0});var z=L(l);a=C(z,"DIV",{class:!0}),L(a).forEach(v),f=V(z),I&&I.l(z),z.forEach(v),b=V(G),d=C(G,"SPAN",{class:!0});var _=L(d);m=X(_,h),_.forEach(v),G.forEach(v),this.h()},h(){k(s,"class","svelte-vnb8sq"),k(a,"class","line"),k(l,"class","connector svelte-vnb8sq"),k(d,"class","svelte-vnb8sq"),k(t,"class","meter svelte-vnb8sq")},m(g,G){M(g,t,G),p(t,s),p(s,r),p(t,i),p(t,l),p(l,a),p(l,f),I&&I.m(l,null),p(t,b),p(t,d),p(d,m)},p(g,[G]){G&5&&e!==(e=(g[0].visible?se(g[2]):"?")+"")&&te(r,e),g[0].visible?I?I.p(g,G):(I=ge(g),I.c(),I.m(l,null)):I&&(I.d(1),I=null),G&3&&h!==(h=(g[0].visible?se(g[1]):"?")+"")&&te(m,h)},i:O,o:O,d(g){g&&v(t),I&&I.d()}}}function We(n,t,s){let e,r,i,l;return re(n,j,a=>s(0,l=a)),n.$$.update=()=>{n.$$.dirty&1&&s(3,e=l.distanceUpper/(l.distanceUpper+l.distanceLower)*100),n.$$.dirty&1&&s(2,r=l.distanceUpper/H.length*100),n.$$.dirty&1&&s(1,i=l.distanceLower/H.length*100)},[l,i,r,e]}class Pe extends x{constructor(t){super(),ee(this,t,We,Ue,Y,{})}}function qe(n){let t,s;return{c(){t=y("span"),s=J(n[0]),this.h()},l(e){t=C(e,"SPAN",{class:!0});var r=L(t);s=X(r,n[0]),r.forEach(v),this.h()},h(){k(t,"class","svelte-107gnvl"),A(t,"win",n[1].win),A(t,"lose",n[1].lose),A(t,"incorrect",n[1].incorrect),A(t,"up",n[1].correct==="up"),A(t,"down",n[1].correct==="down"),A(t,"empty",n[0]==="•"||n[0]===" "),A(t,"impossible",n[2])},m(e,r){M(e,t,r),p(t,s)},p(e,[r]){r&1&&te(s,e[0]),r&2&&A(t,"win",e[1].win),r&2&&A(t,"lose",e[1].lose),r&2&&A(t,"incorrect",e[1].incorrect),r&2&&A(t,"up",e[1].correct==="up"),r&2&&A(t,"down",e[1].correct==="down"),r&1&&A(t,"empty",e[0]==="•"||e[0]===" "),r&4&&A(t,"impossible",e[2])},i:O,o:O,d(e){e&&v(t)}}}function Be(n,t,s){let e,r;re(n,j,f=>s(1,r=f));let{letter:i}=t,{index:l}=t;const a=(f,b,d,h,m)=>d.substring(0,m)===h.substring(0,m)?d[m]<=f&&h[m]>=f:d.substring(0,m)===b.substring(0,m)?d[m]<=f:h.substring(0,m)===b.substring(0,m)?h[m]>=f:!0;return n.$$set=f=>{"letter"in f&&s(0,i=f.letter),"index"in f&&s(3,l=f.index)},n.$$.update=()=>{n.$$.dirty&11&&s(2,e=i!=="•"&&i!==" "&&!a(i,r.attempt,r.upperWord,r.lowerWord,l))},[i,r,e,l]}class Oe extends x{constructor(t){super(),ee(this,t,Be,qe,Y,{letter:0,index:3})}}function Me(n){let t,s;return{c(){t=y("span"),s=J(n[0]),this.h()},l(e){t=C(e,"SPAN",{class:!0});var r=L(t);s=X(r,n[0]),r.forEach(v),this.h()},h(){k(t,"class","svelte-ynm1tz")},m(e,r){M(e,t,r),p(t,s)},p(e,[r]){r&1&&te(s,e[0])},i:O,o:O,d(e){e&&v(t)}}}function je(n,t,s){let{letter:e}=t;return n.$$set=r=>{"letter"in r&&s(0,e=r.letter)},[e]}class Ae extends x{constructor(t){super(),ee(this,t,je,Me,Y,{letter:0})}}function _e(n,t,s){const e=n.slice();return e[5]=t[s],e}function ve(n,t,s){const e=n.slice();return e[5]=t[s],e[9]=s,e}function be(n,t,s){const e=n.slice();return e[5]=t[s],e}function $e(n){let t,s;return t=new Ae({props:{letter:n[5]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const i={};r&2&&(i.letter=e[5]),t.$set(i)},i(e){s||(N(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function we(n){let t,s;return t=new Oe({props:{letter:n[5],index:n[9]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const i={};r&8&&(i.letter=e[5]),t.$set(i)},i(e){s||(N(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function ke(n){let t,s;return t=new Ae({props:{letter:n[5]}}),{c(){F(t.$$.fragment)},l(e){Q(t.$$.fragment,e)},m(e,r){R(t,e,r),s=!0},p(e,r){const i={};r&2&&(i.letter=e[5]),t.$set(i)},i(e){s||(N(t.$$.fragment,e),s=!0)},o(e){U(t.$$.fragment,e),s=!1},d(e){Z(t,e)}}}function He(n){let t,s,e,r,i,l,a,f,b,d,h,m,I,g,G,S;s=new Pe({});let z=B(n[1].upperWord),_=[];for(let c=0;c<z.length;c+=1)_[c]=$e(be(n,z,c));const K=c=>U(_[c],1,1,()=>{_[c]=null});let W=B(n[3]),$=[];for(let c=0;c<W.length;c+=1)$[c]=we(ve(n,W,c));const D=c=>U($[c],1,1,()=>{$[c]=null});let E=B(n[1].lowerWord),w=[];for(let c=0;c<E.length;c+=1)w[c]=ke(_e(n,E,c));const Ge=c=>U(w[c],1,1,()=>{w[c]=null});return{c(){t=y("section"),F(s.$$.fragment),e=T(),r=y("div"),i=y("div");for(let c=0;c<_.length;c+=1)_[c].c();l=T(),a=y("div");for(let c=0;c<$.length;c+=1)$[c].c();b=T(),d=y("div");for(let c=0;c<w.length;c+=1)w[c].c();h=T(),m=y("div"),I=J(n[0]),this.h()},l(c){t=C(c,"SECTION",{class:!0});var u=L(t);Q(s.$$.fragment,u),e=V(u),r=C(u,"DIV",{class:!0});var o=L(r);i=C(o,"DIV",{class:!0});var P=L(i);for(let q=0;q<_.length;q+=1)_[q].l(P);P.forEach(v),l=V(o),a=C(o,"DIV",{class:!0});var ce=L(a);for(let q=0;q<$.length;q+=1)$[q].l(ce);ce.forEach(v),b=V(o),d=C(o,"DIV",{class:!0});var ue=L(d);for(let q=0;q<w.length;q+=1)w[q].l(ue);ue.forEach(v),o.forEach(v),h=V(u),m=C(u,"DIV",{class:!0});var fe=L(m);I=X(fe,n[0]),fe.forEach(v),u.forEach(v),this.h()},h(){k(i,"class","upper svelte-9h61wv"),k(a,"class",f="attempt "+n[1].correct+" svelte-9h61wv"),A(a,"incorrect",n[1].incorrect),k(d,"class","lower svelte-9h61wv"),k(r,"class","board svelte-9h61wv"),A(r,"win",n[1].win),A(r,"lose",n[1].lose),k(m,"class","score svelte-9h61wv"),A(m,"animate",n[2]),k(t,"class","game svelte-9h61wv")},m(c,u){M(c,t,u),R(s,t,null),p(t,e),p(t,r),p(r,i);for(let o=0;o<_.length;o+=1)_[o]&&_[o].m(i,null);p(r,l),p(r,a);for(let o=0;o<$.length;o+=1)$[o]&&$[o].m(a,null);p(r,b),p(r,d);for(let o=0;o<w.length;o+=1)w[o]&&w[o].m(d,null);p(t,h),p(t,m),p(m,I),g=!0,G||(S=oe(t,"click",n[4]),G=!0)},p(c,[u]){if(u&2){z=B(c[1].upperWord);let o;for(o=0;o<z.length;o+=1){const P=be(c,z,o);_[o]?(_[o].p(P,u),N(_[o],1)):(_[o]=$e(P),_[o].c(),N(_[o],1),_[o].m(i,null))}for(ie(),o=z.length;o<_.length;o+=1)K(o);ae()}if(u&8){W=B(c[3]);let o;for(o=0;o<W.length;o+=1){const P=ve(c,W,o);$[o]?($[o].p(P,u),N($[o],1)):($[o]=we(P),$[o].c(),N($[o],1),$[o].m(a,null))}for(ie(),o=W.length;o<$.length;o+=1)D(o);ae()}if((!g||u&2&&f!==(f="attempt "+c[1].correct+" svelte-9h61wv"))&&k(a,"class",f),(!g||u&2)&&A(a,"incorrect",c[1].incorrect),u&2){E=B(c[1].lowerWord);let o;for(o=0;o<E.length;o+=1){const P=_e(c,E,o);w[o]?(w[o].p(P,u),N(w[o],1)):(w[o]=ke(P),w[o].c(),N(w[o],1),w[o].m(d,null))}for(ie(),o=E.length;o<w.length;o+=1)Ge(o);ae()}(!g||u&2)&&A(r,"win",c[1].win),(!g||u&2)&&A(r,"lose",c[1].lose),(!g||u&1)&&te(I,c[0]),(!g||u&4)&&A(m,"animate",c[2])},i(c){if(!g){N(s.$$.fragment,c);for(let u=0;u<z.length;u+=1)N(_[u]);for(let u=0;u<W.length;u+=1)N($[u]);for(let u=0;u<E.length;u+=1)N(w[u]);g=!0}},o(c){U(s.$$.fragment,c),_=_.filter(Boolean);for(let u=0;u<_.length;u+=1)U(_[u]);$=$.filter(Boolean);for(let u=0;u<$.length;u+=1)U($[u]);w=w.filter(Boolean);for(let u=0;u<w.length;u+=1)U(w[u]);g=!1},d(c){c&&v(t),Z(s),ne(_,c),ne($,c),ne(w,c),G=!1,S()}}}let Ke=0;function Fe(n,t,s){let e,r,i;re(n,j,f=>s(1,i=f));let l=!1;function a(f){Le.call(this,n,f)}return n.$$.update=()=>{n.$$.dirty&2&&s(3,e=(i.attempt+"•").padEnd(5).substring(0,5)),n.$$.dirty&2&&s(0,r=i.guesses.filter(f=>f==="correct").length),n.$$.dirty&1&&r>Ke&&(s(2,l=!0),setTimeout(()=>{s(2,l=!1)},300))},[r,i,l,e,a]}class Qe extends x{constructor(t){super(),ee(this,t,Fe,He,Y,{})}}function Ee(n,t,s){const e=n.slice();return e[3]=t[s],e}function Ie(n){let t,s;return{c(){t=y("span"),this.h()},l(e){t=C(e,"SPAN",{class:!0}),L(t).forEach(v),this.h()},h(){k(t,"class",s=pe(n[3])+" svelte-94agzl")},m(e,r){M(e,t,r)},p(e,r){r&1&&s!==(s=pe(e[3])+" svelte-94agzl")&&k(t,"class",s)},d(e){e&&v(t)}}}function Re(n){let t,s=B(n[0]),e=[];for(let r=0;r<s.length;r+=1)e[r]=Ie(Ee(n,s,r));return{c(){t=y("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"DIV",{class:!0});var i=L(t);for(let l=0;l<e.length;l+=1)e[l].l(i);i.forEach(v),this.h()},h(){k(t,"class","svelte-94agzl")},m(r,i){M(r,t,i);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(r,[i]){if(i&1){s=B(r[0]);let l;for(l=0;l<s.length;l+=1){const a=Ee(r,s,l);e[l]?e[l].p(a,i):(e[l]=Ie(a),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},i:O,o:O,d(r){r&&v(t),ne(e,r)}}}function Ze(n,t,s){let e;re(n,j,l=>s(1,e=l));const r=l=>l<e.guesses.length?e.guesses[l]:l+1===e.currentGuess?"current":"future";let i=Array.from({length:e.maxGuesses},(l,a)=>r(a));return n.$$.update=()=>{n.$$.dirty&2&&s(0,i=Array.from({length:e.maxGuesses},(l,a)=>r(a)))},[i,e]}class Je extends x{constructor(t){super(),ee(this,t,Ze,Re,Y,{})}}function ye(n,t,s){const e=n.slice();return e[4]=t[s],e}function Ce(n){let t,s,e,r,i,l;function a(){return n[3](n[4])}return{c(){t=y("button"),s=J(n[4]),e=T(),this.h()},l(f){t=C(f,"BUTTON",{class:!0});var b=L(t);s=X(b,n[4]),e=V(b),b.forEach(v),this.h()},h(){t.disabled=r=!n[2](n[4],n[0].attempt,n[0].upperWord,n[0].lowerWord),k(t,"class","svelte-1240ro5")},m(f,b){M(f,t,b),p(t,s),p(t,e),i||(l=oe(t,"click",a),i=!0)},p(f,b){n=f,b&1&&r!==(r=!n[2](n[4],n[0].attempt,n[0].upperWord,n[0].lowerWord))&&(t.disabled=r)},d(f){f&&v(t),i=!1,l()}}}function Xe(n){let t,s=B("abcdefghijklmnopqrstuvwxyz"),e=[];for(let r=0;r<s.length;r+=1)e[r]=Ce(ye(n,s,r));return{c(){t=y("div");for(let r=0;r<e.length;r+=1)e[r].c();this.h()},l(r){t=C(r,"DIV",{class:!0});var i=L(t);for(let l=0;l<e.length;l+=1)e[l].l(i);i.forEach(v),this.h()},h(){k(t,"class","svelte-1240ro5")},m(r,i){M(r,t,i);for(let l=0;l<e.length;l+=1)e[l]&&e[l].m(t,null)},p(r,[i]){if(i&7){s=B("abcdefghijklmnopqrstuvwxyz");let l;for(l=0;l<s.length;l+=1){const a=ye(r,s,l);e[l]?e[l].p(a,i):(e[l]=Ce(a),e[l].c(),e[l].m(t,null))}for(;l<e.length;l+=1)e[l].d(1);e.length=s.length}},i:O,o:O,d(r){r&&v(t),ne(e,r)}}}function Ye(n,t,s){let e;re(n,j,a=>s(0,e=a));const r=ze();return[e,r,(a,f,b,d)=>{const h=f.length;return b.substring(0,h)===d.substring(0,h)?b[h]<=a&&d[h]>=a:b.substring(0,h)===f.substring(0,h)?b[h]<=a:d.substring(0,h)===f.substring(0,h)?d[h]>=a:!0},a=>r("keypress",{key:a})]}class xe extends x{constructor(t){super(),ee(this,t,Ye,Xe,Y,{})}}function et(n){let t,s,e,r,i="Betweenle Rush",l,a,f="Guess as many words as you can with 100 guesses",b,d,h,m,I,g,G,S,z=n[1].ended?"Next":"Guess",_,K,W,$;return d=new Je({}),m=new Qe({}),m.$on("click",n[5]),g=new xe({}),g.$on("keypress",n[6]),{c(){t=y("section"),s=y("input"),e=T(),r=y("h1"),r.textContent=i,l=T(),a=y("p"),a.textContent=f,b=T(),F(d.$$.fragment),h=T(),F(m.$$.fragment),I=T(),F(g.$$.fragment),G=T(),S=y("button"),_=J(z),this.h()},l(D){t=C(D,"SECTION",{class:!0});var E=L(t);s=C(E,"INPUT",{type:!0,class:!0}),e=V(E),r=C(E,"H1",{class:!0,"data-svelte-h":!0}),de(r)!=="svelte-4t5vd3"&&(r.textContent=i),l=V(E),a=C(E,"P",{class:!0,"data-svelte-h":!0}),de(a)!=="svelte-1igd5be"&&(a.textContent=f),b=V(E),Q(d.$$.fragment,E),h=V(E),Q(m.$$.fragment,E),I=V(E),Q(g.$$.fragment,E),G=V(E),S=C(E,"BUTTON",{id:!0,class:!0});var w=L(S);_=X(w,z),w.forEach(v),E.forEach(v),this.h()},h(){k(s,"type","text"),k(s,"class","hidden svelte-6t3ni9"),k(r,"class","svelte-6t3ni9"),k(a,"class","svelte-6t3ni9"),k(S,"id","main-button"),k(S,"class","svelte-6t3ni9"),k(t,"class","page svelte-6t3ni9")},m(D,E){M(D,t,E),p(t,s),n[4](s),p(t,e),p(t,r),p(t,l),p(t,a),p(t,b),R(d,t,null),p(t,h),R(m,t,null),p(t,I),R(g,t,null),p(t,G),p(t,S),p(S,_),K=!0,W||($=[oe(s,"keydown",n[3]),oe(S,"click",n[7])],W=!0)},p(D,[E]){(!K||E&2)&&z!==(z=D[1].ended?"Next":"Guess")&&te(_,z)},i(D){K||(N(d.$$.fragment,D),N(m.$$.fragment,D),N(g.$$.fragment,D),K=!0)},o(D){U(d.$$.fragment,D),U(m.$$.fragment,D),U(g.$$.fragment,D),K=!1},d(D){D&&v(t),n[4](null),Z(d),Z(m),Z(g),W=!1,De($)}}}function tt(n,t,s){let e;re(n,j,h=>s(1,e=h));let r;const i=h=>{r.focus(),l(new KeyboardEvent("keypress",{key:h}))},l=h=>{if(h.key==="Enter"){j.submit();return}if(h.key==="Backspace"&&!e.ended){j.removeLetter();return}j.addLetter(h.key)};Ne(()=>{r.focus()});function a(h){Se[h?"unshift":"push"](()=>{r=h,s(0,r)})}return[r,e,i,l,a,()=>r.focus(),h=>i(h.detail.key),()=>i("Enter")]}class it extends x{constructor(t){super(),ee(this,t,tt,et,Y,{})}}export{it as component};
